# HelloML

HelloML is an AI-powered voice agent platform that enables businesses to deploy intelligent phone-based customer service agents. The platform provides automated call handling, real-time transcription, and business management capabilities.

## Tech Stack

- **Framework:** Next.js 15 (App Router, Turbopack)
- **Language:** TypeScript
- **Styling:** Tailwind CSS
- **UI Components:** shadcn/ui (Radix primitives)
- **Authentication:** Supabase Auth (Google OAuth, email/password)
- **Database:** Supabase (PostgreSQL)
- **State Management:** React Context + custom hooks

## Project Structure

```
app/                    # Next.js App Router pages
  auth/                 # Authentication page
  dashboard/            # Main dashboard
  business/[id]/        # Business detail pages
components/             # Reusable UI components
  ui/                   # shadcn/ui components
lib/                    # Utilities, hooks, and context
  hooks/                # Custom React hooks
  context.tsx           # App-wide context provider
  content.ts            # UI content/copy strings
```

## Git Branching Strategy

### Branch Naming Convention

All feature branches must be named after their Linear issue:

```
feature/HEL-<issue_number>
```

Examples:
- `feature/HEL-6` (Add responsiveness for Auth page)
- `feature/HEL-14` (Fix tab switching on business page)

### Branch Flow

```
feature/HEL-# → develop → main
```

1. **feature/HEL-#**: Feature branches for individual issues
   - Created from `develop`
   - Named after Linear issue (e.g., `feature/HEL-6`)
   - PR into `develop` when complete

2. **develop**: Integration branch
   - All features merge here first
   - Used for testing and QA
   - PR into `main` when ready for release

3. **main**: Production branch
   - Deployed to production
   - Only receives merges from `develop`
   - Protected branch

### Workflow

1. Pick up a Linear issue (e.g., HEL-6)
2. Create branch: `git checkout -b feature/HEL-6 develop`
3. Implement the fix/feature
4. Create PR: `feature/HEL-6` → `develop`
5. After review and merge, create PR: `develop` → `main` for deployment

## Commands

```bash
# Development
npm run dev           # Start dev server

# Build
npm run build         # Production build

# Linting
npm run lint          # Run ESLint
```

## Linear Integration

Issues are tracked in Linear under the HelloML workspace:
- **Team:** HelloML
- **Issue prefix:** HEL-
- **Labels:** Bug, Feature, Improvement

When committing, reference the issue:
```
git commit -m "HEL-6: Add responsive styles to auth page"
```

## Infrastructure

- **Backend API Base URL:** `https://api.helloml.app` (production), `http://localhost:8000` (dev)
- **Backend Repo:** `~/Dropbox/Desktop/HelloML` — FastAPI on Fly.io (`helloml-backend-bitter-lake-1235`)
- **Frontend Repo:** `~/Dropbox/Desktop/HelloML-Front` — Next.js on Vercel
- **Database:** Supabase (PostgreSQL) — use Supabase MCP tools for migrations, table creation, and SQL queries. NEVER write raw `.sql` files for migrations — run them via Supabase MCP.
- **Backend Logs:** `flyctl logs --app helloml-backend-bitter-lake-1235 --no-tail`

## Claude Code Guidelines

### Git Operations
- **NEVER execute ANY git operations without EXPLICIT user permission** - this includes commit, push, pull, merge, checkout, branch creation/deletion, stash, PR creation, PR merging, etc.
- **ALWAYS present the intended git command and WAIT for user confirmation before executing**
- **NEVER create PRs directly into main** - all PRs must target `develop` first
- **NEVER merge PRs without explicit user approval**
- This rule has NO exceptions - always ask first, then wait for approval

### Comments and Documentation
- **All comments and notes should be added to Linear** using the Linear MCP, not in code comments
- Keep code comments minimal and only for complex logic that isn't self-evident

### Database Operations
- **Use Supabase MCP tools** for all database operations: creating tables, running migrations, querying data
- **NEVER write .sql migration files** — run SQL directly via Supabase MCP
- **NEVER manually UPDATE/INSERT database records to fix sync issues** - always fix the actual sync code
- **NEVER take shortcuts** by hardcoding data or running manual SQL when code should handle it
- If data isn't syncing properly from external services (Stripe, etc.), debug and fix the code - not the data

### Commit Messages
- **No emojis** in commit messages
- **No adjectives** - state changes factually without embellishment
- **Do not include "generated by Claude Code"** or similar AI attribution
- **Do not include "Co-Authored-By" lines** referencing AI
- Use the format: `HEL-#: Brief description of change`
- Keep messages concise and factual
- Examples:
  - `HEL-6: Add responsive styles to auth page`
  - `HEL-14: Fix tab click handler on business page`
  - `HEL-18: Display user transcription in call history`

### Pull Request Descriptions
- **No "Generated with Claude Code"** or similar AI attribution
- Keep summaries factual and brief
- List changes as bullet points
- Include test plan with checkboxes
